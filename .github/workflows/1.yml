name: ğŸ§  GitHub Runner System Info

on:
  workflow_dispatch:
  push:
    branches:
      - runner-info-test

jobs:
  inspect-runner:
    name: Inspect Ubuntu Runner
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ–¥ï¸ OS & Kernel
        run: |
          uname -a
          cat /etc/os-release

      - name: ğŸ§® CPU Info
        run: |
          lscpu

      - name: ğŸ§  Memory (RAM)
        run: |
          free -h
          vmstat -s

      - name: ğŸ’¾ Disk Info
        run: |
          df -h
          lsblk

      - name: ğŸ§± Ulimits
        run: |
          ulimit -a

      - name: ğŸ³ Docker Info
        run: |
          docker --version || echo "Docker not available"
          docker info || echo "Docker info not accessible"

      - name: ğŸŒ GitHub Runner Environment
        run: |
          echo "Runner name: $RUNNER_NAME"
          echo "Runner OS: $RUNNER_OS"
          echo "Runner arch: $RUNNER_ARCH"
          echo "GitHub workspace: $GITHUB_WORKSPACE"
          echo "Temp dir: $RUNNER_TEMP"
          echo "Tool cache: $RUNNER_TOOL_CACHE"

      - name: ğŸ“¦ Installed Tool Versions
        run: |
          java -version || true
          node --version || true
          npm --version || true
          python3 --version || true
          git --version || true
